<!--videosender.html-->
<!DOCTYPE html>
<html>
<head>
	<title>Hello</title>
</head>
<body>
	<video id="videoInput" style="display:none"></video>
    <canvas id="videoOutput" width="1000" height="300" style="border: 1px solid black;"></canvas>
    <button onclick=stream()>Send</button>
</body>
<script>
    // navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.mediaDevices.getUserMedia;

    var constraints = {audio: false, video: true};
    var video = document.getElementById("videoInput");
    
    video.width = 320;
    video.height = 240;

    function successCallback(stream){
        video.srcObject = stream;
        video.play();
        console.log('asdfasdf')
    }

    function errorCallback(error){
        console.log(error);
    }
    async function stream(){
        var stream_video = await navigator.mediaDevices.getUserMedia(constraints)
        video.srcObject = stream_video
        // console.log(navigator.getUserMedia)
        // navigator.getUserMedia(constraints, successCallback, errorCallback);      
    };

</script>


<script src="//cdn.jsdelivr.net/npm/eruda"></script>
<script>eruda.init();</script>
</html>